# =============================================================================
# HUSH — Environment Variables
# Copy to .env for local dev. For production, set these in your hosting platform.
# NEVER commit .env or .env.production to git.
# =============================================================================
#
# For LOCAL DEV: cp .env.example .env
# For PRODUCTION: set these as environment variables in your hosting platform,
#                 or use .env.production (which is gitignored).

# --- LiveKit -------------------------------------------------------------------
# Dev: use fake values (must match what's in docker-compose.yml livekit service)
# Production (gethush.live): use LiveKit Cloud keys from https://cloud.livekit.io
LIVEKIT_API_KEY=devkey
LIVEKIT_API_SECRET=devsecret
# Dev: ws://localhost:7880
# Production (LiveKit Cloud): wss://<your-project>.livekit.cloud
LIVEKIT_URL=ws://localhost:7880

# --- Matrix / Synapse ----------------------------------------------------------
# MATRIX_HOMESERVER_URL: used by the Hush server (in Docker) to call Synapse whoami.
#   In Docker: must be http://synapse:8008 (service name). Leave unset to use that default.
#   If you run the Node server on the host (e.g. npm run dev:server), set http://localhost:80 (via Caddy).
# MATRIX_SERVER_NAME: server name (e.g. localhost or your domain).
# MATRIX_HOMESERVER_URL=http://synapse:8008
MATRIX_SERVER_NAME=localhost

# --- Synapse internals ---------------------------------------------------------
# Generate with: openssl rand -hex 32
SYNAPSE_REGISTRATION_SHARED_SECRET=changeme
SYNAPSE_MACAROON_SECRET_KEY=changeme

# --- Postgres (Synapse database) -----------------------------------------------
POSTGRES_DB=synapse
POSTGRES_USER=synapse
POSTGRES_PASSWORD=changeme

# --- Node server ---------------------------------------------------------------
PORT=3001
NODE_ENV=development

# --- Hosted-only (gethush.live) — NOT used when self-hosting ------------------
# Guest session limits. Ignored in self-hosted mode.
GUEST_SESSION_MINUTES=60
MAX_GUEST_SESSIONS=20
