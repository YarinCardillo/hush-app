# Hush Server Configuration

# Server
PORT=3001
HOST=0.0.0.0

# Security — CHANGE THIS IN PRODUCTION
JWT_SECRET=your-very-long-random-secret-here

# CORS — set to your frontend URL in production
CORS_ORIGIN=http://localhost:5173

# ─── Resource Pools ──────────────────────────────
# Total max concurrent rooms across all tiers
TOTAL_MAX_ROOMS=50

# Pool allocation (must sum to <= 100)
# Self-hosters: set FREE_POOL_PERCENT=100 to disable tiers
FREE_POOL_PERCENT=60
SUPPORTER_POOL_PERCENT=30
# Remaining 10% = system reserve

# ─── Tier Limits ─────────────────────────────────
# Note: Tier distinction is about pool access, not per-room features.
# Both free and supporter rooms have the same capabilities.
# Supporters pay for convenience (guaranteed access) vs self-hosting.

# Free tier (limited to 30 concurrent rooms)
FREE_MAX_PARTICIPANTS=8
FREE_MAX_SCREEN_SHARES=8
FREE_MAX_BITRATE=12000000

# Supporter tier (guaranteed access even when free pool full)
SUPPORTER_MAX_PARTICIPANTS=8
SUPPORTER_MAX_SCREEN_SHARES=8
SUPPORTER_MAX_BITRATE=12000000

# ─── mediasoup ───────────────────────────────────
# RTC port range (UDP/TCP) — open in firewall
RTC_MIN_PORT=40000
RTC_MAX_PORT=40100

# Your server's public IP address
# Required for remote connections — leave empty for local dev
ANNOUNCED_IP=
